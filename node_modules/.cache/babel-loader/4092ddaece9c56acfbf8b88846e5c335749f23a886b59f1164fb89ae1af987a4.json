{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\igor\\\\Desktop\\\\online-shop\\\\client\\\\src\\\\components\\\\DeviceItem.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Button, Card, Col, Spinner } from \"react-bootstrap\";\nimport { AiFillStar } from \"react-icons/ai\";\nimport { useNavigate } from \"react-router-dom\";\nimport { DEVICE_ROUTE } from \"../utils/const\";\nimport { getSingleBrand } from \"../api/brandApi\";\nimport { Context } from \"../index\";\nimport { observer } from \"mobx-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeviceItem = _s(observer(_c = _s(_ref => {\n  _s();\n  let {\n    device\n  } = _ref;\n  const navigate = useNavigate();\n  const {\n    user,\n    cart\n  } = useContext(Context);\n  const [isLoading, setIsLoading] = useState(true);\n  const [brandName, setBrandName] = useState('');\n  useEffect(() => {\n    const getSingleBrandForCard = async () => {\n      const resp = await getSingleBrand(device.brandId);\n      setBrandName(resp.name);\n      setIsLoading(false);\n    };\n    getSingleBrandForCard();\n  }, []);\n  const isInCart = cart.cartItems.some(item => item.id === device.id);\n  return /*#__PURE__*/_jsxDEV(Col, {\n    md: 3,\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: 'mt-2',\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '220px',\n          marginTop: '5px',\n          cursor: 'pointer',\n          border: 'none'\n        },\n        onClick: () => navigate(`${DEVICE_ROUTE}${device.id}`),\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: `http://localhost:5432/${device.img}`,\n          width: 120,\n          height: 220\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          className: 'd-flex justify-content-between align-items-center',\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'd-flex justify-content-between align-items-center w-100',\n            children: [isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 42\n            }, this) : /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n              style: {\n                color: 'grey'\n              },\n              children: brandName ? brandName : 'Brand'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: device.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                children: /*#__PURE__*/_jsxDEV(AiFillStar, {\n                  fill: 'yellow'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 36\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Title, {\n          className: 'ml-15',\n          style: {\n            marginLeft: '15px'\n          },\n          children: device.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-primary\",\n        className: 'mb-5',\n        style: {\n          width: '50%',\n          display: 'flex',\n          justifySelf: 'center',\n          alignSelf: 'center'\n        },\n        disabled: !user.isAuth,\n        onClick: isInCart ? () => cart.setDeleteItem(device.id) : () => {\n          cart.setCartItems({\n            ...device,\n            quantity: 1\n          });\n        },\n        children: user.isAuth ? isInCart ? 'Remove from cart' : 'Add to cart' : 'Not logged'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}, \"xK1GOXpG5djPCBd4SVwNM+q8vEk=\", false, function () {\n  return [useNavigate];\n})), \"xK1GOXpG5djPCBd4SVwNM+q8vEk=\", false, function () {\n  return [useNavigate];\n});\n_c2 = DeviceItem;\nexport default DeviceItem;\nvar _c, _c2;\n$RefreshReg$(_c, \"DeviceItem$observer\");\n$RefreshReg$(_c2, \"DeviceItem\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Button","Card","Col","Spinner","AiFillStar","useNavigate","DEVICE_ROUTE","getSingleBrand","Context","observer","DeviceItem","device","navigate","user","cart","isLoading","setIsLoading","brandName","setBrandName","getSingleBrandForCard","resp","brandId","name","isInCart","cartItems","some","item","id","width","marginTop","cursor","border","img","color","rating","marginLeft","display","justifySelf","alignSelf","isAuth","setDeleteItem","setCartItems","quantity"],"sources":["C:/Users/igor/Desktop/online-shop/client/src/components/DeviceItem.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport {Button, Card, Col, Spinner} from \"react-bootstrap\";\r\nimport {AiFillStar} from \"react-icons/ai\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {DEVICE_ROUTE} from \"../utils/const\";\r\nimport {getSingleBrand} from \"../api/brandApi\";\r\nimport {Context} from \"../index\";\r\nimport {observer} from \"mobx-react\";\r\n\r\n\r\nconst DeviceItem = observer(({device}) => {\r\n    const navigate = useNavigate()\r\n    const {user, cart} = useContext(Context)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [brandName, setBrandName] = useState('')\r\n    useEffect(() => {\r\n        const getSingleBrandForCard = async () => {\r\n            const resp = await getSingleBrand(device.brandId)\r\n            setBrandName(resp.name)\r\n            setIsLoading(false)\r\n        }\r\n\r\n        getSingleBrandForCard()\r\n    }, [])\r\n    const isInCart = cart.cartItems.some(item => item.id === device.id)\r\n\r\n    return (\r\n        <Col md={3}>\r\n            <Card className={'mt-2'}>\r\n                <Card style={{width: '220px', marginTop: '5px', cursor: 'pointer', border: 'none'}}\r\n                      onClick={() => navigate(`${DEVICE_ROUTE}${device.id}`)}>\r\n                    <Card.Img variant=\"top\" src={`http://localhost:5432/${device.img}`} width={120} height={220}/>\r\n                    <Card.Body className={'d-flex justify-content-between align-items-center'}>\r\n                        <div className={'d-flex justify-content-between align-items-center w-100'}>\r\n                            {isLoading ? <Spinner/> :\r\n                                <Card.Subtitle\r\n                                    style={{color: 'grey'}}>{brandName ? brandName : 'Brand'}</Card.Subtitle>}\r\n                            <div>\r\n                                <span>{device.rating}</span>\r\n                                <i><AiFillStar fill={'yellow'}/></i>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </Card.Body>\r\n                    <Card.Title className={'ml-15'} style={{marginLeft: '15px'}}>{device.name}</Card.Title>\r\n                </Card>\r\n                <Button variant=\"outline-primary\" className={'mb-5'}\r\n                        style={{width: '50%', display: 'flex', justifySelf: 'center', alignSelf: 'center'}}\r\n                        disabled={!user.isAuth} onClick={\r\n                    isInCart ? () => cart.setDeleteItem(device.id) : () => {\r\n                        cart.setCartItems({...device, quantity: 1})\r\n                    }}>{user.isAuth ? isInCart ? 'Remove from cart' : 'Add to cart' : 'Not logged'}</Button>\r\n            </Card>\r\n        </Col>\r\n    );\r\n});\r\n\r\nexport default DeviceItem;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}